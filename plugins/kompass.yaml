apiVersion: krew.googlecontainertools.github.com/v1alpha2
kind: Plugin
metadata:
  name: kompass
spec:
  version: "v0.1.0"
  homepage: https://gitlab.com/zestyco/kompass/kompass-agent
  shortDescription: Zesty Kompass plugin for status checks
  description: |
    The Kompass plugin surfaces Pod Placement status and savings to operators.
    It shows potential and actual savings, pod classification summary, and
    readiness signals before enabling Pod Placement.
  caveats: |
    Expects the Insights Agent to be running in your cluster.
    Default namespace is zesty-system.
    Auto-discovery looks for a service labeled app.kubernetes.io/name=kompass-insights.
  platforms:
  - selector:
      matchLabels:
        os: darwin
        arch: amd64
    uri: https://github.com/r-lukianov/kubectl-plugin-test/releases/download/9.0.0/kubectl-kompass_darwin_amd64.zip
    sha256: cbbf4710d82a39e929b515a3d06772af73023332b8002e8e828c18d9d54c3477
    bin: ./kubectl-kompass
  - selector:
      matchLabels:
        os: darwin
        arch: arm64
    uri: https://github.com/r-lukianov/kubectl-plugin-test/releases/download/9.0.0/kubectl-kompass_darwin_arm64.zip
    sha256: b0dd7ca55b90effa64243f157517eafd59b9afd9d4e742f76b1abc29a1605edd
    bin: ./kubectl-kompass
  - selector:
      matchLabels:
        os: linux
        arch: amd64
    uri: https://github.com/r-lukianov/kubectl-plugin-test/releases/download/9.0.0/kubectl-kompass_linux_amd64.zip
    sha256: 96a7e68b710944e51506f6bc863a937c401aa69e17314a98484bfe0e927ff0ed
    bin: ./kubectl-kompass
  - selector:
      matchLabels:
        os: linux
        arch: arm64
    uri: https://github.com/r-lukianov/kubectl-plugin-test/releases/download/9.0.0/kubectl-kompass_linux_arm64.zip
    sha256: 874a3967dea382c6e35746cd9c75242b9bb804e21e1fed8ee881da8523f1515d
    bin: ./kubectl-kompass
  - selector:
      matchLabels:
        os: windows
        arch: amd64
    uri: https://github.com/r-lukianov/kubectl-plugin-test/releases/download/9.0.0/kubectl-kompass_windows_amd64.zip
    sha256: 63c2222b2822c3c23443401e2dfadc6ca38612bed8ec9abb620dacc79b1b5711
    bin: ./kubectl-kompass.exe
  - selector:
      matchLabels:
        os: windows
        arch: arm64
    uri: https://github.com/r-lukianov/kubectl-plugin-test/releases/download/9.0.0/kubectl-kompass_windows_arm64.zip
    sha256: d79573b79f98b04f7e4c4e2f4d44018c1cbd0dd3cef837350eccfbdc3189184e
    bin: ./kubectl-kompass.exe
